<head>
  <title>citymanagement</title>
  <script src="//cdn.jsdelivr.net/npm/phaser@3.11.0/dist/phaser.js"></script>
</head>

<body>
  {{> game}}
  {{> overlay}}
</body>

<template name="game">
</template>

<template name="overlay">
  <div class="overlay">
    <div class="right_panel">
      <div class="button button1">Создать дом</div>
      <div class="button button2">Создать фабрику</div>
      <div class="button button4">Сбросить</div>
      <div class="button button5">Информация о городе</div>
    </div>
    {{#if getSelectedInfo}}
    <div class="left_panel">
      <div class="selected_object title">{{getSelectedInfo.title}}</div>
      <div class="selected_object">Ключ: {{getSelectedInfo.id}}</div>
      <div class="selected_object">Позиция: {{getSelectedInfo.position.i}}:{{getSelectedInfo.position.j}}</div>
      <div class="selected_object">Регион: {{getSelectedInfo.region}}</div>
      <div class="selected_object">Людей макс: {{getSelectedInfo.people.max}}</div>
      <div class="selected_object">Людей текущее: {{getSelectedInfo.people.curr}}</div>
      {{#if getSelectedInfo.peopleNames}}
        <div class="selected_object">Список людей:</div>
        {{#each name in getSelectedInfo.peopleNames}}
          <li>{{name}}</li>
        {{/each}}
      {{/if}}
    </div>
    {{/if}}
    {{#if getRegionInfo}}
    <div class="left_panel">
      <div class="selected_object title">{{getRegionInfo.title}}</div>
      <div class="selected_object">Ключ: {{getRegionInfo.id}}</div>
      <div class="selected_object">Всего домов: {{getRegionInfo.countHouse}}</div>
      <div class="selected_object">Всего фабрик: {{getRegionInfo.countFactory}}</div>
      <div class="selected_object">Всего людей: {{getRegionInfo.countPeople}}</div>
      <div class="selected_object">Безработных: {{getRegionInfo.countPeopleWithoutWork}}</div>
      <div class="selected_object">Свободно жилья: {{getRegionInfo.countFreeHousePlace}}</div>
      <div class="selected_object">Свободно работы: {{getRegionInfo.countFreeFactoryPlace}}</div>
      <div class="selected_object">Привлекательность: {{getRegionInfo.attractiveness}}%</div>
    </div>
    {{/if}}
      <div class="notification_list">
        {{#each notification in getNotification}}
        <div class="notification">
          <div class=title>{{notification.title}}</div>
          <div class="text">{{notification.text}}</div>
        </div>
        {{/each}}
      </div>
    {{#if getDebugInfo}}
      <div class="debug_info">
        <div class="title">Позиция мыши (экран)</div>
        <div class="text">X: {{getDebugInfo.mouseX}}, Y: {{getDebugInfo.mouseY}}</div>
        <div class="title">Координаты мыши</div>
        <div class="text">I: {{getDebugInfo.mouseI}}, J: {{getDebugInfo.mouseJ}}</div>
      </div>
    {{/if}}
  </div>
</template>
